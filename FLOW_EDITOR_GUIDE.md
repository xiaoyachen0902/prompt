# 可视化流程编辑器 - 使用指南

## 🎨 新功能：拖拽式 Workflow 编辑器

现在你可以像搭积木一样，用可视化的方式设计和编辑你的 Agent workflow！

## ✨ 主要特性

### 1. 可视化流程图
- **节点展示**：每个 Step 显示为一个卡片节点
  - 序号标识（1, 2, 3...）
  - Step 名称
  - 使用的模型
  - Temperature 和 Max Tokens 配置

- **连线**：自动显示 Step 之间的执行流程
  - 动画效果，清晰展示执行顺序
  - 平滑的曲线连接

### 2. 拖拽调整顺序
**这是最强大的功能！**

- 🖱️ **直接拖动节点**上下移动
- 📊 系统自动根据 Y 坐标重新排序
- ⚡ 实时更新执行顺序
- 💡 无需手动调整序号

**使用方法：**
```
1. 点击并拖动任意节点
2. 上下移动到目标位置
3. 松开鼠标
4. 系统自动重新排序所有 Step！
```

### 3. 右侧编辑面板
点击任意节点后，右侧面板显示详细配置：

#### 基础配置
- **Step 名称**：输入框
- **Prompt Template**：Monaco 编辑器

#### 高级配置（点击"高级"按钮展开）
- **🤖 模型选择**
  - GPT-4o Mini (快速便宜)
  - GPT-4o (平衡)
  - GPT-4 Turbo (高质量)
  - GPT-3.5 Turbo (经济)

- **🌡️ Temperature 滑块** (0-2)
  - 左侧 (0-0.5): 精确输出
  - 中间 (0.5-1.0): 平衡
  - 右侧 (1.0-2.0): 创意输出

- **📊 Max Tokens**
  - 可选参数
  - 控制输出长度和成本

### 4. 画布操作
- **缩放**：鼠标滚轮
- **平移**：拖动背景
- **适应画布**：右下角控制面板
- **小地图**：右下角，快速导航

### 5. 操作按钮
- **添加 Step**：底部中央浮动按钮
- **删除 Step**：编辑面板顶部删除图标
- **保存修改**：编辑面板底部"保存"按钮
- **取消编辑**：编辑面板顶部或底部"取消"按钮

## 🎯 典型工作流程

### 场景 1: 创建新 Agent
```
1. 点击"添加 Step"按钮
2. 配置第一个 Step（需求分析）
   - 使用 GPT-4o
   - Temperature 0.3（精确）
3. 继续添加后续 Step
4. 如需调整顺序，直接拖动节点
5. 点击顶部"Save"保存
```

### 场景 2: 调整现有 Workflow
```
1. 打开现有 Agent
2. 在流程图中看到所有 Step
3. 拖动节点调整执行顺序
4. 点击节点修改配置
5. 点击"Save"保存修改
```

### 场景 3: 复杂多步骤设计
```
1. 先添加所有需要的 Step
2. 用拖拽快速调整最优顺序
3. 为每个 Step 配置合适的模型
   - 关键步骤用 GPT-4o
   - 常规步骤用 GPT-4o Mini
4. 调整 Temperature 控制输出风格
```

## 💡 使用技巧

### 优化 Workflow 顺序
1. **理解需求** → 高温度 GPT-4o（创意理解）
2. **数据处理** → 低温度 GPT-4o Mini（精确快速）
3. **内容生成** → 中温度 GPT-4o（平衡质量）
4. **质量把关** → 低温度 GPT-4 Turbo（高标准）

### 成本控制
- 重要步骤：GPT-4o / GPT-4 Turbo
- 辅助步骤：GPT-4o Mini
- 设置 Max Tokens 限制输出长度

### 快捷键和技巧
- **双击空白处**：取消选择
- **拖动背景**：移动整个画布
- **滚轮缩放**：调整视图大小
- **小地图点击**：快速跳转

## 🚀 下一步

现在你可以：
1. ✅ 可视化设计 workflow
2. ✅ 拖拽调整执行顺序
3. ✅ 为每个 Step 独立配置模型
4. ✅ 实时预览整个流程结构

刷新浏览器，开始体验全新的可视化编辑器！
